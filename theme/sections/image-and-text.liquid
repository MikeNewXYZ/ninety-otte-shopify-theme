<div
  id="{{- section.id -}}"
  class="image__and__text__wrapper"
>
  <!-- ANCHOR: Image -->
  <window-box
    class="image__and__text__image__wrapper"
    heading="{{ section.settings.image_window_bar_heading }}"
  >
    <img
      class="image__and__text__image"
      src="{{ section.settings.main_image | img_url: 'grande' }}"
      draggable="false"
    />
  </window-box>

  <!-- ANCHOR: Text -->
  <window-box
    class="image__and__text__text__wrapper"
    heading="{{ section.settings.text_window_bar_heading }}"
  >
    <div class="image__and__text__text">
      {{ section.settings.richtext }}
    </div>
  </window-box>
</div>



<style>
  .image__and__text__wrapper {
    display: flex;
    gap: 1rem;
    height: 30rem;
  }

  #{{ section.id }} {
    {% if section.settings.direction == 'image_then_text' %}
      flex-direction: row;
    {% else %}
      flex-direction: row-reverse;
    {% endif %}
  }

  @media all and (max-width: 50em) {
    .image__and__text__wrapper {
      display: flex;
      gap: 1rem;
      height: auto;
    }

    #{{ section.id }} {
      {% if section.settings.direction == 'image_then_text' %}
        flex-direction: column;
      {% else %}
        flex-direction: column-reverse;
      {% endif %}
    }
  }

  .image__and__text__image__wrapper {
    flex: 1;
    height: 100%;
  }

  @media all and (max-width: 50em) {
    .image__and__text__image__wrapper {
      flex: 1;
      height: auto;
      width: 100%;
      aspect-ratio: 1 / 1;
    }
  }

  .image__and__text__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .image__and__text__text__wrapper {
    flex: 2;
    height: 100%;
  }

  .image__and__text__text {
    font-size: 2rem;
    overflow-y: auto;
    height: 100%;
  }
</style>

{% schema %}
{
  "name": "Image and Text",
  "tag": "section",
  "class": "container",
  "settings": [
    {
      "type": "text",
      "id": "image_window_bar_heading",
      "label": "Image Window Bar Heading",
      "default": "Image"
    },
    {
      "type": "text",
      "id": "text_window_bar_heading",
      "label": "Text Window Bar Heading",
      "default": "Text"
    },
    {
      "type": "radio",
      "id": "direction",
      "label": "Direction",
      "default": "image_then_text",
      "options": [
        {
          "value": "image_then_text",
          "label": "Image Then Text"
        },
        {
          "value": "text_then_image",
          "label": "Text Then Image"
        }
      ]
    },
    {
      "type": "image_picker",
      "id": "main_image",
      "label": "Main Image"
    },
    {
      "type": "richtext",
      "id": "richtext",
      "label": "Rich Text",
      "default": "<p>Dolor incididunt laborum do labore dolor labore enim aute quis magna aliqua fugiat nulla. Officia ipsum duis dolore sunt fugiat do aliqua dolor quis consectetur pariatur. Commodo id commodo voluptate et elit sunt. Lorem laborum aliqua culpa eiusmod sunt do veniam nostrud.</p>"
    }
  ],
  "presets": [
    {
      "name": "Image and Text"
    }
  ]
}
{% endschema %}